(()=>{"use strict";var e,t={23:(e,t,o)=>{o(609);var n=o(723);o(715),o(427),(0,n.__)("Grid","blockxpert"),(0,n.__)("Masonry","blockxpert"),(0,n.__)("Slider","blockxpert"),(0,n.__)("Ticker","blockxpert")},427:e=>{e.exports=window.wp.components},609:e=>{e.exports=window.React},681:(e,t,o)=>{const n=window.wp.blocks;var r=o(609),l=o(715),a=o(427),i=o(723);const c=window.wp.element,s=window.wp.data;(0,n.registerBlockType)("blockxpert/product-slider",{edit:function({attributes:e,setAttributes:t}){const[o,n]=(0,c.useState)([]),[p,d]=(0,c.useState)([]),[m,u]=(0,c.useState)(!0),[_,b]=(0,c.useState)(0),{title:g,productsPerSlide:h,autoPlay:k,showNavigation:x,showPagination:w,category:v,orderBy:E,order:y}=e,C=(0,s.useSelect)((e=>{const{__unstableGetPreviewDeviceType:t}=e(l.store);return t?t():"Desktop"}),[]);(0,c.useEffect)((()=>{window.wp&&window.wp.apiFetch&&window.wp.apiFetch({path:"/wc/v3/products/categories?per_page=100"}).then((e=>{n(e)})).catch((e=>{console.error("Error fetching categories:",e)}))}),[]),(0,c.useEffect)((()=>{if(window.wp&&window.wp.apiFetch){u(!0),b(0);let e="/wc/v3/products?per_page=12&status=publish";v&&(e+=`&category=${v}`),e+=`&orderby=${E}&order=${y}`,window.wp.apiFetch({path:e}).then((e=>{d(e),u(!1)})).catch((e=>{console.error("Error fetching products:",e),u(!1)}))}}),[v,E,y]);const f=[{label:(0,i.__)("All Categories","blockxpert"),value:""},...o.map((e=>({label:e.name,value:e.id.toString()})))],S=[{label:(0,i.__)("Date","blockxpert"),value:"date"},{label:(0,i.__)("Title","blockxpert"),value:"title"},{label:(0,i.__)("Price","blockxpert"),value:"price"},{label:(0,i.__)("Popularity","blockxpert"),value:"popularity"},{label:(0,i.__)("Rating","blockxpert"),value:"rating"}],P=[{label:(0,i.__)("Descending","blockxpert"),value:"desc"},{label:(0,i.__)("Ascending","blockxpert"),value:"asc"}],N="Mobile"===C?1:"Tablet"===C?Math.min(2,h):h,A=p.length>0?Math.ceil(p.length/N):0,T=()=>{b((e=>(e+1)%A))};return(0,c.useEffect)((()=>{if(!k||A<=1)return;const e=setInterval(T,5e3);return()=>clearInterval(e)}),[k,A]),(0,r.createElement)("div",{...(0,l.useBlockProps)()},(0,r.createElement)(l.InspectorControls,null,(0,r.createElement)(a.PanelBody,{title:(0,i.__)("Slider Settings","blockxpert"),initialOpen:!0},(0,r.createElement)(a.TextControl,{label:(0,i.__)("Slider Title","blockxpert"),value:g,onChange:e=>t({title:e}),placeholder:(0,i.__)("Enter slider title...","blockxpert")}),(0,r.createElement)(a.RangeControl,{label:(0,i.__)("Products per Slide","blockxpert"),value:h,onChange:e=>t({productsPerSlide:e}),min:1,max:6}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Auto Play","blockxpert"),checked:k,onChange:e=>t({autoPlay:e})}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Show Navigation Arrows","blockxpert"),checked:x,onChange:e=>t({showNavigation:e})}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Show Pagination Dots","blockxpert"),checked:w,onChange:e=>t({showPagination:e})})),(0,r.createElement)(a.PanelBody,{title:(0,i.__)("Product Settings","blockxpert"),initialOpen:!1},(0,r.createElement)(a.SelectControl,{label:(0,i.__)("Product Category","blockxpert"),value:v,options:f,onChange:e=>t({category:e})}),(0,r.createElement)(a.SelectControl,{label:(0,i.__)("Order By","blockxpert"),value:E,options:S,onChange:e=>t({orderBy:e})}),(0,r.createElement)(a.SelectControl,{label:(0,i.__)("Order","blockxpert"),value:y,options:P,onChange:e=>t({order:e})}))),(0,r.createElement)("div",{className:"product-slider-editor-preview"},(0,r.createElement)("h3",{className:"slider-title"},g||(0,i.__)("WooProduct Slider","blockxpert")),m&&(0,r.createElement)(a.Placeholder,{label:(0,i.__)("Loading Products","blockxpert")},(0,r.createElement)("p",null,(0,i.__)("Fetching products for the preview...","blockxpert"))),!m&&0===p.length&&(0,r.createElement)(a.Placeholder,{icon:"woocommerce",label:(0,i.__)("No Products Found","blockxpert"),instructions:(0,i.__)("No products were found. Please check your product visibility, selected category, or try creating new products.","blockxpert")},(0,r.createElement)("a",{className:"components-button is-primary",href:"/wp-admin/post-new.php?post_type=product",target:"_blank",rel:"noopener noreferrer"},(0,i.__)("Create New Product","blockxpert"))),!m&&p.length>0&&(0,r.createElement)("div",{className:"slider-container-preview"},(0,r.createElement)("div",{className:"slider-wrapper-preview"},(0,r.createElement)("div",{className:"slider-track-preview",style:{display:"flex",transition:"transform 0.5s ease-in-out",transform:`translateX(-${100*_}%)`}},p.map((e=>(0,r.createElement)("div",{key:e.id,className:"product-item-preview",style:{flex:`0 0 ${100/N}%`,padding:"0 8px"}},(0,r.createElement)("div",{className:"product-card-preview"},(0,r.createElement)("div",{className:"product-image-preview"},e.images&&e.images[0]?(0,r.createElement)("img",{src:e.images[0].src,alt:e.name}):(0,r.createElement)("div",{className:"product-image-placeholder"},(0,r.createElement)("span",null,(0,i.__)("No Image","blockxpert")))),(0,r.createElement)("div",{className:"product-info-preview"},(0,r.createElement)("h4",{className:"product-title-preview"},e.name),(0,r.createElement)("p",{className:"product-price-preview",dangerouslySetInnerHTML:{__html:e.price_html||e.price}})))))))),x&&A>1&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("button",{className:"slider-nav-preview prev",onClick:()=>{b((e=>(e-1+A)%A))}},"‹"),(0,r.createElement)("button",{className:"slider-nav-preview next",onClick:T},"›")),w&&A>1&&(0,r.createElement)("div",{className:"slider-pagination-preview"},Array.from({length:A}).map(((e,t)=>(0,r.createElement)("button",{key:t,className:"dot-preview "+(_===t?"active":""),onClick:()=>(e=>{b(e)})(t),"aria-label":`${(0,i.__)("Go to slide","blockxpert")} ${t+1}`})))))),(0,r.createElement)("style",null,"\n                .product-slider-editor-preview .slider-title {\n                    text-align: center;\n                    font-size: 1.5em;\n                    margin-bottom: 1em;\n                }\n                .slider-container-preview {\n                    position: relative;\n                }\n                .slider-wrapper-preview {\n                    overflow: hidden;\n                }\n                .product-card-preview {\n                    border: 1px solid #e0e0e0;\n                    border-radius: 4px;\n                    overflow: hidden;\n                    background: #fff;\n                }\n                .product-image-preview {\n                    width: 100%;\n                    padding-top: 100%; /* 1:1 Aspect Ratio */\n                    position: relative;\n                    background-color: #f0f0f0;\n                }\n                .product-image-preview img {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    object-fit: cover;\n                }\n                .product-image-placeholder {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    color: #999;\n                }\n                .product-info-preview {\n                    padding: 12px;\n                }\n                .product-title-preview {\n                    font-size: 1em;\n                    margin: 0 0 8px 0;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                }\n                .product-price-preview {\n                    font-size: 0.9em;\n                    font-weight: bold;\n                    color: #2c3e50;\n                    margin: 0;\n                }\n                .slider-nav-preview {\n                    position: absolute;\n                    top: 40%;\n                    transform: translateY(-50%);\n                    background: rgba(255, 255, 255, 0.8);\n                    border: 1px solid #ccc;\n                    border-radius: 50%;\n                    width: 32px;\n                    height: 32px;\n                    cursor: pointer;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    z-index: 10;\n                }\n                .slider-nav-preview.prev { left: -10px; }\n                .slider-nav-preview.next { right: -10px; }\n                .slider-pagination-preview {\n                    text-align: center;\n                    margin-top: 16px;\n                }\n                .dot-preview {\n                    display: inline-block;\n                    width: 10px;\n                    height: 10px;\n                    border-radius: 50%;\n                    background: #ccc;\n                    margin: 0 4px;\n                    border: none;\n                    padding: 0;\n                    cursor: pointer;\n                }\n                .dot-preview.active { background: #333; }\n            "))},save:()=>null});const p=[{name:"Small",slug:"small",size:"14px"},{name:"Normal",slug:"normal",size:"16px"},{name:"Large",slug:"large",size:"20px"},{name:"Extra Large",slug:"extra-large",size:"24px"}];(0,n.registerBlockType)("blockxpert/ai-faq",{edit:function({attributes:e,setAttributes:t}){const o=(0,l.useBlockProps)(),[n,s]=(0,c.useState)(!1),[d,m]=(0,c.useState)(""),[u,_]=(0,c.useState)(null),[b,g]=(0,c.useState)(new Set),[h,k]=(0,c.useState)(""),{title:x,aiEnabled:w,maxQuestions:v,autoGenerate:E,showSearch:y,accordionStyle:C,questions:f,apiKey:S,model:P,titleColor:N,questionColor:A,answerColor:T,titleFontSize:q,questionFontSize:I,answerFontSize:z,animationType:B,animationDuration:F}=e,O={color:N,fontSize:q},R={color:A,fontSize:I},Q={color:T,fontSize:z},D=()=>{const e={question:"",answer:"",id:Date.now()};t({questions:[...f,e]}),_(e.id)},G=(e,o,n)=>{const r=[...f];r[e]={...r[e],[o]:n},t({questions:r})},M=async()=>{s(!0),m("");try{console.log("Generating AI questions with API Key:",S),await new Promise((e=>setTimeout(e,1500)));const e=[{question:"What is BlockXpert?",answer:"BlockXpert is a powerful suite of blocks for the WordPress editor.",id:Date.now()+1},{question:"How do I get an API key?",answer:"You can get an API key from the OpenAI website.",id:Date.now()+2}];t({questions:[...f,...e]}),m((0,i.__)("FAQ questions generated successfully!","blockxpert"))}catch(e){console.error("Error generating questions:",e),m((0,i.__)("Error generating questions. Please try again.","blockxpert"))}s(!1)},$=f.filter((e=>e.question.toLowerCase().includes(h.toLowerCase())));return(0,r.createElement)("div",{...o},(0,r.createElement)(l.InspectorControls,null,(0,r.createElement)(a.PanelBody,{title:(0,i.__)("FAQ Settings","blockxpert"),initialOpen:!0},(0,r.createElement)(a.TextControl,{label:(0,i.__)("FAQ Title","blockxpert"),value:x,onChange:e=>t({title:e}),placeholder:(0,i.__)("Enter FAQ title...","blockxpert")}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Enable AI Generation","blockxpert"),checked:w,onChange:e=>t({aiEnabled:e}),__nextHasNoMarginBottom:!0}),w&&(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Auto Generate Questions on page load","blockxpert"),checked:E,onChange:e=>t({autoGenerate:e}),__nextHasNoMarginBottom:!0,help:(0,i.__)("Automatically generate questions when the block is added.","blockxpert")}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Show Search Bar","blockxpert"),checked:y,onChange:e=>t({showSearch:e}),__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.PanelColorSettings,{title:(0,i.__)("Color Settings","blockxpert"),initialOpen:!1,colorSettings:[{value:N,onChange:e=>t({titleColor:e}),label:(0,i.__)("Title Color","blockxpert")},{value:A,onChange:e=>t({questionColor:e}),label:(0,i.__)("Question Color","blockxpert")},{value:T,onChange:e=>t({answerColor:e}),label:(0,i.__)("Answer Color","blockxpert")}]}),(0,r.createElement)(a.PanelBody,{title:(0,i.__)("Font Size Settings","blockxpert"),initialOpen:!1},(0,r.createElement)("p",{className:"components-base-control__label"},(0,i.__)("Title Font Size","blockxpert")),(0,r.createElement)(a.FontSizePicker,{fontSizes:p,value:q,onChange:e=>t({titleFontSize:e}),withSlider:!0}),(0,r.createElement)("p",{className:"components-base-control__label"},(0,i.__)("Question Font Size","blockxpert")),(0,r.createElement)(a.FontSizePicker,{fontSizes:p,value:I,onChange:e=>t({questionFontSize:e}),withSlider:!0}),(0,r.createElement)("p",{className:"components-base-control__label"},(0,i.__)("Answer Font Size","blockxpert")),(0,r.createElement)(a.FontSizePicker,{fontSizes:p,value:z,onChange:e=>t({answerFontSize:e}),withSlider:!0})),(0,r.createElement)(a.PanelBody,{title:(0,i.__)("Animation Settings","blockxpert"),initialOpen:!1},(0,r.createElement)(a.RangeControl,{label:(0,i.__)("Animation Duration (ms)","blockxpert"),value:F,onChange:e=>t({animationDuration:e}),min:100,max:1e3,step:50})),w&&(0,r.createElement)(a.PanelBody,{title:(0,i.__)("AI Settings","blockxpert"),initialOpen:!1},(0,r.createElement)(a.TextControl,{label:(0,i.__)("OpenAI API Key","blockxpert"),value:S,onChange:e=>t({apiKey:e}),placeholder:(0,i.__)("Enter your OpenAI API key...","blockxpert"),help:S?"":(0,i.__)("An API key is required for AI features.","blockxpert"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,r.createElement)(a.TextControl,{label:(0,i.__)("AI Model","blockxpert"),value:P,onChange:e=>t({model:e})}),(0,r.createElement)(a.RangeControl,{label:(0,i.__)("Maximum Questions to Generate","blockxpert"),value:v,onChange:e=>t({maxQuestions:e}),min:1,max:10}),(0,r.createElement)(a.Button,{isPrimary:!0,onClick:M,isBusy:n,disabled:!S||n},n?(0,i.__)("Generating...","blockxpert"):(0,i.__)("Generate AI Questions","blockxpert")))),(0,r.createElement)("div",{className:"ai-faq-editor"},(0,r.createElement)("h2",{className:"faq-title",style:O},x||(0,i.__)("AI FAQ","blockxpert")),d&&(0,r.createElement)(a.Notice,{status:d.includes("successfully")?"success":"error",onRemove:()=>m("")},d),y&&(0,r.createElement)("div",{className:"faq-search"},(0,r.createElement)(a.TextControl,{placeholder:(0,i.__)("Search questions...","blockxpert"),value:h,onChange:k,__next40pxDefaultSize:!0})),f&&0!==f.length?(0,r.createElement)("div",{className:"faq-questions"},$.map(((e,o)=>(0,r.createElement)("div",{key:e.id||o,className:"faq-question"},u===e.id?(0,r.createElement)("div",{className:"faq-edit-form"},(0,r.createElement)(a.TextControl,{label:(0,i.__)("Question","blockxpert"),value:e.question,onChange:e=>G(o,"question",e),placeholder:(0,i.__)("Enter your question...","blockxpert")}),(0,r.createElement)(l.PanelColorSettings,{title:(0,i.__)("Question Color","blockxpert"),colorSettings:[{value:e.questionColor,onChange:e=>G(o,"questionColor",e),label:(0,i.__)("Question Color","blockxpert")}]}),(0,r.createElement)(a.FontSizePicker,{fontSizes:p,value:e.questionFontSize,onChange:e=>G(o,"questionFontSize",e),withSlider:!0,label:(0,i.__)("Question Font Size","blockxpert")}),(0,r.createElement)(a.TextareaControl,{label:(0,i.__)("Answer","blockxpert"),value:e.answer,onChange:e=>G(o,"answer",e),placeholder:(0,i.__)("Enter your answer...","blockxpert"),rows:4}),(0,r.createElement)(l.PanelColorSettings,{title:(0,i.__)("Answer Color","blockxpert"),colorSettings:[{value:e.answerColor,onChange:e=>G(o,"answerColor",e),label:(0,i.__)("Answer Color","blockxpert")}]}),(0,r.createElement)(a.FontSizePicker,{fontSizes:p,value:e.answerFontSize,onChange:e=>G(o,"answerFontSize",e),withSlider:!0,label:(0,i.__)("Answer Font Size","blockxpert")}),(0,r.createElement)("div",{className:"faq-edit-actions"},(0,r.createElement)(a.Button,{isPrimary:!0,onClick:()=>_(null)},(0,i.__)("Save","blockxpert")),(0,r.createElement)(a.Button,{isDestructive:!0,onClick:()=>{_(null),(e=>{const o=f.filter(((t,o)=>o!==e));t({questions:o})})(o)}},(0,i.__)("Delete","blockxpert")))):(0,r.createElement)("div",{className:"faq-question-content"},(0,r.createElement)("div",{className:"faq-question-header",onClick:()=>(e=>{const t=new Set(b);t.has(e)?t.delete(e):t.add(e),g(t)})(o)},(0,r.createElement)("h3",{className:"faq-question-text",style:{...R,color:e.questionColor||R.color,fontSize:e.questionFontSize||R.fontSize}},e.question||(0,i.__)("Untitled Question","blockxpert")),(0,r.createElement)("div",{className:"faq-question-actions"},(0,r.createElement)(a.Button,{isSmall:!0,variant:"secondary",onClick:t=>{t.stopPropagation(),_(e.id)}},(0,i.__)("Edit","blockxpert")),(0,r.createElement)("span",{className:"faq-toggle-icon "+(b.has(o)?"open":"")},"+"))),(0,r.createElement)("div",{className:"faq-answer "+(b.has(o)?"is-open":""),style:{transitionDuration:`${F}ms`,maxHeight:b.has(o)?"500px":"0"}},(0,r.createElement)("p",{style:{...Q,color:e.answerColor||Q.color,fontSize:e.answerFontSize||Q.fontSize}},e.answer||(0,i.__)("No answer provided.","blockxpert"))))))),(0,r.createElement)("div",{className:"faq-actions"},(0,r.createElement)(a.Button,{variant:"primary",onClick:D},(0,i.__)("Add Question","blockxpert")),w&&(0,r.createElement)(a.Button,{variant:"secondary",onClick:M,isBusy:n,disabled:!S},(0,i.__)("Generate More AI Questions","blockxpert")))):(0,r.createElement)(a.Placeholder,{icon:"editor-help",label:(0,i.__)("No FAQ Questions","blockxpert"),instructions:(0,i.__)("Add your first FAQ question or generate AI-powered questions.","blockxpert")},(0,r.createElement)("div",{className:"faq-placeholder-actions"},(0,r.createElement)(a.Button,{isPrimary:!0,onClick:D},(0,i.__)("Add Question","blockxpert")),w&&(0,r.createElement)(a.Button,{onClick:M,isBusy:n,disabled:!S},(0,i.__)("Generate AI Questions","blockxpert"))))))},save:()=>null}),(0,n.registerBlockType)("blockxpert/ai-product-recommendations",{edit:function({attributes:e,setAttributes:t}){const[o,n]=(0,c.useState)(!1),[p,d]=(0,c.useState)(""),[m,u]=(0,c.useState)([]),[_,b]=(0,c.useState)(null),{title:g,aiEnabled:h,recommendationType:k,layoutStyle:x,productsCount:w,theme:v,showPrice:E,showRating:y,showAddToCart:C,inStockOnly:f,excludeCurrent:S,priceRange:P,customPrompt:N,apiKey:A,model:T,cacheEnabled:q,cacheDuration:I,currentProductId:z,recommendedProducts:B}=e,F=(0,s.useSelect)((e=>e("core/editor")?.getCurrentPostId()||0),[]),O=(0,s.useSelect)((e=>e("core/editor")?.getCurrentPostType()||""),[]);(0,c.useEffect)((()=>{"product"===O&&F&&(setCurrentProductId(F),R(F))}),[F,O]);const R=async e=>{if(window.wp&&window.wp.apiFetch)try{const t=await window.wp.apiFetch({path:`/wc/v3/products/${e}`});b(t)}catch(e){console.error("Error fetching current product:",e)}};(0,c.useEffect)((()=>{window.wp&&window.wp.apiFetch&&Q()}),[]);const Q=async()=>{try{const e=await window.wp.apiFetch({path:"/wc/v3/products?per_page=8&status=publish"});u(e)}catch(e){console.error("Error fetching products:",e)}},D=async()=>{if(A)if(_||"product"!==O){n(!0);try{const e=await fetch("/wp-json/blockxpert/v1/generate-product-recommendations",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify({apiKey:A,model:T,currentProduct:_,recommendationType:k,productsCount:w,customPrompt:N,priceRange:P,inStockOnly:f})});if(e.ok){const o=await e.json();o.success&&o.products?(t({recommendedProducts:o.products}),d((0,i.__)("AI recommendations generated successfully!","blockxpert"))):d((0,i.__)("Failed to generate recommendations. Please check your API key.","blockxpert"))}else d((0,i.__)("Error generating recommendations. Please try again.","blockxpert"))}catch(e){console.error("Error generating recommendations:",e),d((0,i.__)("Error generating recommendations. Please try again.","blockxpert"))}finally{n(!1)}}else alert((0,i.__)("Please wait for the current product to load, then try again.","blockxpert"));else alert((0,i.__)("Please enter your OpenAI API key in the block settings.","blockxpert"))},G=B.length>0?B:m.slice(0,w);return(0,r.createElement)("div",{...(0,l.useBlockProps)({className:`ai-product-recommendations theme-${v}`})},(0,r.createElement)(l.InspectorControls,null,(0,r.createElement)(a.PanelBody,{title:(0,i.__)("Recommendation Settings","blockxpert"),initialOpen:!0},(0,r.createElement)(a.TextControl,{label:(0,i.__)("Section Title","blockxpert"),value:g,onChange:e=>t({title:e}),placeholder:(0,i.__)("Enter section title...","blockxpert")}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Enable AI Recommendations","blockxpert"),checked:h,onChange:e=>t({aiEnabled:e})}),(0,r.createElement)(a.SelectControl,{label:(0,i.__)("Recommendation Type","blockxpert"),value:k,options:[{label:(0,i.__)("Related Products","blockxpert"),value:"related"},{label:(0,i.__)("Cross-Sells","blockxpert"),value:"cross-sell"},{label:(0,i.__)("Upsells","blockxpert"),value:"upsell"},{label:(0,i.__)("Custom","blockxpert"),value:"custom"}],onChange:e=>t({recommendationType:e})}),"custom"===k&&(0,r.createElement)(a.TextControl,{label:(0,i.__)("Custom Prompt","blockxpert"),value:N,onChange:e=>t({customPrompt:e}),placeholder:(0,i.__)('e.g., "gift ideas", "trending items", "best sellers"',"blockxpert")})),(0,r.createElement)(a.PanelBody,{title:(0,i.__)("Display Settings","blockxpert"),initialOpen:!1},(0,r.createElement)(a.SelectControl,{label:(0,i.__)("Layout Style","blockxpert"),value:x,options:[{label:(0,i.__)("Grid","blockxpert"),value:"grid"},{label:(0,i.__)("List","blockxpert"),value:"list"},{label:(0,i.__)("Slider","blockxpert"),value:"slider"}],onChange:e=>t({layoutStyle:e})}),(0,r.createElement)(a.RangeControl,{label:(0,i.__)("Number of Products","blockxpert"),value:w,onChange:e=>t({productsCount:e}),min:1,max:12}),(0,r.createElement)(a.SelectControl,{label:(0,i.__)("Theme","blockxpert"),value:v,options:[{label:(0,i.__)("Light","blockxpert"),value:"light"},{label:(0,i.__)("Dark","blockxpert"),value:"dark"},{label:(0,i.__)("Minimal","blockxpert"),value:"minimal"}],onChange:e=>t({theme:e})})),(0,r.createElement)(a.PanelBody,{title:(0,i.__)("Product Display","blockxpert"),initialOpen:!1},(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Show Price","blockxpert"),checked:E,onChange:e=>t({showPrice:e})}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Show Rating","blockxpert"),checked:y,onChange:e=>t({showRating:e})}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Show Add to Cart Button","blockxpert"),checked:C,onChange:e=>t({showAddToCart:e})})),(0,r.createElement)(a.PanelBody,{title:(0,i.__)("AI Settings","blockxpert"),initialOpen:!1},(0,r.createElement)(a.TextControl,{label:(0,i.__)("OpenAI API Key","blockxpert"),value:A,onChange:e=>t({apiKey:e}),type:"password",placeholder:(0,i.__)("Enter your OpenAI API key...","blockxpert")}),(0,r.createElement)(a.SelectControl,{label:(0,i.__)("AI Model","blockxpert"),value:T,options:[{label:"GPT-3.5 Turbo",value:"gpt-3.5-turbo"},{label:"GPT-4",value:"gpt-4"},{label:"GPT-4 Turbo",value:"gpt-4-turbo-preview"}],onChange:e=>t({model:e})}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("In Stock Only","blockxpert"),checked:f,onChange:e=>t({inStockOnly:e})}),(0,r.createElement)(a.ToggleControl,{label:(0,i.__)("Exclude Current Product","blockxpert"),checked:S,onChange:e=>t({excludeCurrent:e})}),h&&(0,r.createElement)(a.Button,{isPrimary:!0,onClick:D,isBusy:o,disabled:!A},o?(0,i.__)("Generating...","blockxpert"):(0,i.__)("Generate AI Recom","blockxpert")))),(0,r.createElement)("div",{className:"ai-product-recommendations-editor"},(0,r.createElement)("h2",{className:"recommendations-title"},g||(0,i.__)("Ai Product Recom","blockxpert")),(0,r.createElement)("style",null,"\n                        .ai-product-recommendations-editor .product-price {\n                            font-size: 1.2rem;\n                            font-weight: 600;\n                            color: #007cba;\n                            margin-bottom: 0.5rem;\n                        }\n                        .ai-product-recommendations-editor .woocommerce-Price-amount {\n                            font-weight: 600;\n                        }\n                        .ai-product-recommendations-editor .woocommerce-Price-currencySymbol {\n                            font-weight: normal;\n                        }\n                        .ai-product-recommendations-editor .product-card {\n                            border: 1px solid #e1e5e9;\n                            border-radius: 8px;\n                            overflow: hidden;\n                            transition: all 0.3s ease;\n                            background: #fff;\n                            margin-bottom: 1rem;\n                        }\n                        .ai-product-recommendations-editor .product-image {\n                            position: relative;\n                            overflow: hidden;\n                        }\n                        .ai-product-recommendations-editor .product-thumbnail {\n                            width: 100%;\n                            height: 200px;\n                            object-fit: cover;\n                        }\n                        .ai-product-recommendations-editor .product-info {\n                            padding: 1rem;\n                        }\n                        .ai-product-recommendations-editor .product-title {\n                            margin: 0 0 0.5rem 0;\n                            font-size: 1.1rem;\n                            font-weight: 500;\n                        }\n                        .ai-product-recommendations-editor .product-rating {\n                            margin-bottom: 0.5rem;\n                        }\n                        .ai-product-recommendations-editor .add-to-cart-btn {\n                            width: 100%;\n                            margin-top: 0.5rem;\n                        }\n                        .ai-product-recommendations-editor .products-grid {\n                            display: grid;\n                            gap: 1.5rem;\n                        }\n                        .ai-product-recommendations-editor .products-grid.layout-grid {\n                            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n                        }\n                        .ai-product-recommendations-editor .products-grid.layout-list {\n                            grid-template-columns: 1fr;\n                        }\n                        .ai-product-recommendations-editor .products-grid.layout-slider {\n                            display: flex;\n                            overflow-x: auto;\n                            gap: 1rem;\n                            padding: 1rem 0;\n                        }\n                        .ai-product-recommendations-editor .products-grid.layout-slider .product-card {\n                            flex: 0 0 250px;\n                        }\n                    "),p&&(0,r.createElement)(a.Notice,{status:p.includes("successfully")?"success":"error",onRemove:()=>d("")},p),_&&(0,r.createElement)("div",{className:"current-product-info"},(0,r.createElement)("h4",null,(0,i.__)("Current Product:","blockxpert")),(0,r.createElement)("p",null,_.name),(0,r.createElement)("p",null,(0,i.__)("Type:","blockxpert")," ",(M=k,{related:(0,i.__)("Related Products","blockxpert"),"cross-sell":(0,i.__)("Cross-Sells","blockxpert"),upsell:(0,i.__)("Upsells","blockxpert"),custom:(0,i.__)("Custom Recommendations","blockxpert")}[M]||M))),0===G.length?(0,r.createElement)(a.Placeholder,{icon:"products",label:(0,i.__)("No Products Found","blockxpert"),instructions:(0,i.__)("No products available for recommendations. Add products to your store or generate AI recommendations.","blockxpert")},h&&(0,r.createElement)(a.Button,{isPrimary:!0,onClick:D,isBusy:o,disabled:!A},(0,i.__)("Generate AI Recommendations","blockxpert"))):(0,r.createElement)("div",{className:`recommendations-container layout-${x}`},(0,r.createElement)("div",{className:`products-grid layout-${x}`},G.map(((e,t)=>((e,t)=>{const o="product-card "+("slider"===x?"slider-item":"");return(0,r.createElement)("div",{key:e.id||t,className:o},(0,r.createElement)("div",{className:"product-image"},e.images&&e.images[0]?(0,r.createElement)("img",{src:e.images[0].src,alt:e.name,className:"product-thumbnail"}):(0,r.createElement)("div",{className:"product-placeholder"},(0,i.__)("No Image","blockxpert"))),(0,r.createElement)("div",{className:"product-info"},(0,r.createElement)("h3",{className:"product-title"},e.name),E&&(0,r.createElement)("div",{className:"product-price"},e.price_html?(0,r.createElement)("div",{dangerouslySetInnerHTML:{__html:e.price_html}}):e.price||(0,i.__)("Price not available","blockxpert")),y&&e.average_rating&&(0,r.createElement)("div",{className:"product-rating"},"★".repeat(Math.round(e.average_rating)),(0,r.createElement)("span",{className:"rating-count"},"(",e.review_count,")")),C&&"instock"===e.stock_status&&(0,r.createElement)(a.Button,{isPrimary:!0,className:"add-to-cart-btn"},(0,i.__)("Add to Cart","blockxpert"))))})(e,t)))),h&&(0,r.createElement)("div",{className:"ai-actions"},(0,r.createElement)(a.Button,{onClick:D,isBusy:o,disabled:!A},(0,i.__)("Regenerate AI Recommendations","blockxpert"))))));var M},save:()=>null}),o(23)},715:e=>{e.exports=window.wp.blockEditor},723:e=>{e.exports=window.wp.i18n}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,o,r,l)=>{if(!o){var a=1/0;for(p=0;p<e.length;p++){for(var[o,r,l]=e[p],i=!0,c=0;c<o.length;c++)(!1&l||a>=l)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(i=!1,l<a&&(a=l));if(i){e.splice(p--,1);var s=r();void 0!==s&&(t=s)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[o,r,l]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={438:0,933:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,l,[a,i,c]=o,s=0;if(a.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var p=c(n)}for(t&&t(o);s<a.length;s++)l=a[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(p)},o=globalThis.webpackChunkblockxpert=globalThis.webpackChunkblockxpert||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=n.O(void 0,[350],(()=>n(681)));r=n.O(r)})();