document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".product-slider-editor-preview").forEach((function(e){const t=e.querySelector(".slider-track-preview"),n=e.querySelectorAll(".product-item-preview"),i=e.querySelector(".slider-nav-preview.prev"),r=e.querySelector(".slider-nav-preview.next"),a=e.querySelector(".slider-pagination-preview"),l=parseInt(e.getAttribute("data-products-per-slide"))||3,o="true"===e.getAttribute("data-auto-play"),d="true"===e.getAttribute("data-show-navigation"),c="true"===e.getAttribute("data-show-pagination");let s=l,u=0,v=1,p=null;function f(){s=window.innerWidth<600?1:window.innerWidth<900?Math.min(2,l):l,v=Math.max(1,Math.ceil(n.length/s)),u>=v&&(u=v-1),t&&(t.style.width=100*v+"%"),n.forEach((function(e){e.style.flex=`0 0 ${100/(v*s)}%`,e.style.maxWidth=100/(v*s)+"%"})),function(){if(a){a.innerHTML="";for(let e=0;e<v;e++){const t=document.createElement("button");t.className="dot-preview"+(e===u?" active":""),t.addEventListener("click",(function(){u=e,y()})),a.appendChild(t)}}}(),y()}function y(){t&&(t.style.transform=`translateX(-${u*(100/v)}%)`),a&&a.querySelectorAll(".dot-preview").forEach(((e,t)=>{e.classList.toggle("active",t===u)})),i&&r&&(i.style.display=d&&v>1?"flex":"none",r.style.display=d&&v>1?"flex":"none"),a&&(a.style.display=c&&v>1?"block":"none")}function w(){o&&v>1&&(p=setInterval((function(){u=(u+1)%v,y()}),5e3))}i&&i.addEventListener("click",(function(){u=Math.max(0,u-1),y()})),r&&r.addEventListener("click",(function(){u=Math.min(v-1,u+1),y()})),e.addEventListener("mouseenter",(function(){p&&(clearInterval(p),p=null)})),e.addEventListener("mouseleave",w),window.addEventListener("resize",f),f(),w()}))}));